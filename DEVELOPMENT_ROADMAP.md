# LunchSelector 개발 로드맵

## 📌 개요
빠른 개선 사항을 적용한 후 4개 Phase에 걸쳐 주요 기능을 단계적으로 구현합니다.
(식단 플래너, 소셜 기능 제외)

---

## ✅ Phase 0: 빠른 개선 (완료)
- [x] ErrorBoundary 컴포넌트
- [x] LoadingSpinner 컴포넌트
- [x] config.js (설정, 로거, 성능 모니터링)
- [x] 메뉴 캐싱 및 로깅 통합
- [x] Kakao Maps 로드 타임아웃 설정

---

## 📅 Phase 1: 성능 최적화 및 데이터 검증 (1-2주)

### 목표
- Kakao Maps API 로딩 성능 개선
- 지도 초기화 최적화
- 데이터 검증 시스템 구축
- 추천 이력 저장 시스템

### 구현 항목

#### 1.1 Kakao Maps 로드 최적화
**파일**: `src/kakaoMapUtils.js` (새로 생성)
- Promise 기반 Kakao SDK 로드 대기
- 동적 타임아웃 설정
- 에러 처리 강화

**기대 효과**: API 로드 시간 20% 단축

#### 1.2 지도 초기화 개선
**파일**: `src/App.jsx` 수정
- ResizeObserver 또는 requestAnimationFrame 활용
- 고정 지연(200ms) → 동적 대기로 변경

**기대 효과**: 지도 로딩 시간 30-50ms 단축

#### 1.3 마커 재생성 최적화
**파일**: `src/mapMarkerManager.js` (새로 생성)
- 마커 풀(pool) 패턴 구현
- 증분 업데이트 로직

**기대 효과**: 메모리 사용량 30% 감소

#### 1.4 localStorage 스키마 검증
**파일**: `src/dataValidator.js` (새로 생성)
```javascript
// 검증 규칙:
- 필수 카테고리 6개 확인
- 메뉴 개수 제한 (100개/카테고리)
- 메뉴 길이 검증 (최대 50자)
- 데이터 무결성 확인
```

**기대 효과**: 데이터 오염 방지, 안정성 향상

#### 1.5 추천 이력 저장 시스템
**파일**: `src/historyManager.js` (새로 생성)
- 메뉴 선택 기록 저장
- 통계 정보 생성
  - 총 추천 횟수
  - 가장 많이 선택된 메뉴
  - 가장 많이 선택된 카테고리
  - 주간 추천 통계

**UI 추가**: 설정 패널에 "통계" 섹션

### 검증 항목
- [ ] Kakao Maps 로드 타임 측정 (< 2초)
- [ ] 지도 초기화 타임 측정 (< 200ms)
- [ ] 마커 성능 테스트 (100개 마커 이상)
- [ ] 데이터 검증 테스트 (모든 엣지 케이스)
- [ ] 히스토리 저장 및 조회 테스트

### 커밋 메시지
```
Feat: Phase 1 성능 최적화 및 데이터 검증

- Kakao Maps Promise 기반 로드
- ResizeObserver로 지도 초기화 개선
- 마커 풀 패턴으로 메모리 최적화
- 데이터 검증 시스템 추가
- 추천 이력 저장 및 통계 시스템
```

---

## 📅 Phase 2: 즐겨찾기, 시간대 추천, 다크모드 (2-3주)

### 목표
- 사용자 개인화 기능
- 상황 기반 추천
- UI/UX 개선

### 구현 항목

#### 2.1 즐겨찾기 시스템
**파일**: `src/favoritesManager.js`, `src/Favorites.jsx`

**기능**:
- 메뉴 즐겨찾기/해제
- 즐겨찾기 목록 조회
- 즐겨찾기에서만 추천

**UI**:
- 검색 결과에 ⭐ 버튼
- 메인 화면에 "즐겨찾기" 탭 추가
- 즐겨찾기 필터

#### 2.2 시간대별 추천
**파일**: `src/timeBasedRecommendation.js`, `App.jsx` 수정

**시간대 카테고리**:
```javascript
- 아침 (6-11시): 한식, 분식
- 점심 (11-13시): 전체 추천
- 오후 (13-16시): 가벼운 음식
- 저녁 (16-22시): 전체 추천
```

**UI**:
- 배경색 변경 (시간대별)
- "이 시간대 인기 메뉴" 표시
- 시간대 추천 버튼

#### 2.3 다크 모드
**파일**: `src/index.css`, 모든 CSS 파일

**구현**:
```javascript
// localStorage에 테마 저장
// CSS 변수로 색상 관리
:root[data-theme="dark"] {
  --bg-primary: #1a1a1a;
  --text-primary: #e0e0e0;
  ...
}
```

**UI**:
- 설정 패널에 다크모드 토글
- 시스템 테마 감지 (prefers-color-scheme)
- 토글 버튼 추가

#### 2.4 검색 필터 확장
**파일**: `App.jsx`, `App.css` 수정

**필터 옵션**:
- 거리 필터 (0-5km)
- 평점 필터 (0-5점) - 이미 구현
- 가격대 필터 (추후)

### 검증 항목
- [ ] 즐겨찾기 저장/삭제 테스트
- [ ] 시간대 변경에 따른 UI 업데이트
- [ ] 다크모드 전환 성능
- [ ] 필터 조합 작동 테스트

### 커밋 메시지
```
Feat: Phase 2 개인화 및 UX 개선

- 즐겨찾기 시스템 구현
- 시간대별 추천 기능 추가
- 다크모드 지원
- 검색 필터 확장
```

---

## 📅 Phase 3: 메뉴 상세정보, 공유, PWA (3-4주)

### 목표
- 메뉴 정보 확충
- 사용자 참여 기능
- 오프라인 지원

### 구현 항목

#### 3.1 메뉴 상세정보
**파일**: `src/menuMetadata.js`, `src/MenuDetail.jsx`

**메뉴 정보**:
```javascript
{
  menu: "짜장면",
  calories: 450,
  cookTime: "5-10분",
  price: "8,000원",
  spicy: 2,
  tags: ["중국요리", "저렴", "빨라요"],
  description: "검은콩소스로 만든 중국식 국수요리"
}
```

**UI**:
- 메뉴 선택 시 상세정보 표시
- 영양정보, 조리시간, 가격대 표시
- 태그 표시

#### 3.2 공유 기능
**파일**: `src/shareUtils.js`, 각 컴포넌트 수정

**공유 방법**:
- Native Share API (Web Share API)
- 클립보드 복사 (폴백)
- 공유 버튼 추가

**공유 내용**:
```
"[카테고리]의 '[메뉴]'를 추천받았습니다! 🍽️
점심 메뉴 추천 앱 → {url}"
```

#### 3.3 PWA 지원
**파일**: `public/manifest.json`, `public/sw.js` (새로 생성)

**기능**:
- 설치 가능한 앱
- 오프라인 모드 (메뉴 추천만 가능)
- 홈화면 아이콘

**구현**:
```json
// manifest.json
{
  "name": "점심 메뉴 추천",
  "icons": [{...}],
  "start_url": "/",
  "display": "standalone"
}
```

#### 3.4 메뉴 검색 개선
**파일**: `src/searchUtils.js`, `App.jsx` 수정

**검색 기능**:
- 자동완성 (debounce 적용)
- 검색 기록 저장
- 검색어 하이라이트

### 검증 항목
- [ ] 메뉴 상세정보 데이터 완성도
- [ ] 공유 기능 크로스 브라우저 테스트
- [ ] PWA 설치 및 오프라인 작동
- [ ] 검색 성능 (debounce 동작)

### 커밋 메시지
```
Feat: Phase 3 정보 확충 및 공유 기능

- 메뉴 상세정보 시스템 구현
- 공유 기능 추가 (Web Share API)
- PWA 지원 및 오프라인 모드
- 메뉴 검색 개선
```

---

## 📅 Phase 4: AI 추천 시스템 (4주+)

### 목표
- 사용자 선호도 학습
- 스마트 추천 엔진

### 구현 항목

#### 4.1 사용자 행동 분석
**파일**: `src/userBehaviorAnalyzer.js`

**추적 데이터**:
- 메뉴 선택 패턴
- 카테고리 선호도
- 시간대별 선호
- 최근 선택 메뉴

#### 4.2 예측 알고리즘
**파일**: `src/predictiveRecommendation.js`

**알고리즘**:
1. **패턴 기반**: 최근 7일 선택 패턴 분석
2. **카테고리 회피**: 최근에 선택하지 않은 카테고리 우선
3. **시간대 학습**: 시간대별 선호도 학습
4. **가중치 조정**: 자주 선택한 카테고리 확률 높임

#### 4.3 추천 엔진 통합
**파일**: `App.jsx` 수정

**UI**:
- "AI 추천" 버튼 추가
- 추천 이유 설명
- 정확도 표시 (%)

#### 4.4 학습 모니터링
**파일**: `src/aiMetrics.js`

**메트릭**:
- 추천 정확도
- 사용자 만족도 (선택/거절)
- 학습 진행도

### 검증 항목
- [ ] AI 추천 정확도 측정
- [ ] 알고리즘 성능 프로파일링
- [ ] 학습 곡선 분석
- [ ] 사용자 피드백 수집

### 커밋 메시지
```
Feat: Phase 4 AI 추천 시스템

- 사용자 행동 분석 시스템
- 예측 알고리즘 구현
- AI 추천 엔진 통합
- 추천 정확도 모니터링
```

---

## 🎯 전체 타임라인

```
Week 1-2:  Phase 1 (성능 최적화 & 데이터 검증)
Week 3-4:  Phase 2 (개인화 & UX)
Week 5-6:  Phase 3 (정보 & 공유)
Week 7+:   Phase 4 (AI 추천)
```

---

## 📊 기술 스택

### 추가 라이브러리 (필요시)
- **date-fns**: 시간 처리 (시간대 추천)
- **dexie**: IndexedDB 래퍼 (PWA 데이터)
- **axios**: HTTP 클라이언트 (백엔드 연동 시)

### 코드 품질
- ESLint 설정 강화
- Prettier 포맷팅
- Jest 테스트 추가

---

## ✨ 우선순위 조정

**높음**: Phase 1 (성능은 사용자 경험의 기초)
**중간**: Phase 2 (기능성이 직접 보이는 부분)
**중간**: Phase 3 (정보와 공유는 사용성 향상)
**낮음**: Phase 4 (고급 기능)

---

## 🔗 관련 문서

- `config.js`: 앱 설정
- `DEVELOPMENT.md`: 개발 가이드
- `TESTING.md`: 테스트 가이드

---

마지막 업데이트: 2025-10-23
